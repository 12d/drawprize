<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style type="text/css">
        .cursor, .current{
            width: 217px;
            height: 144px;
            top:0
        }
        #nine{position: relative; width:650px; height:430px;}
        .cursor{background: red; position: absolute;}
        .current{background: blue; position: absolute;}
    </style>
</head>
<body>
<button id="draw">draw prize</button>
<script src="s/lib/mootools.js" type="text/javascript"></script>
<script src="s/lib/lucky.js" type="text/javascript"></script>
<script src="s/com/base.js" type="text/javascript"></script>
<script src="s/com/nine-rect.js" type="text/javascript"></script>
<div id="nine">
    <img src="s/img/nine-rect.jpg" alt="九宫格"/>
    <div class="cursor" id="cursor">1</div>
    <!--<div class="current">2</div>-->
</div>

<script type="text/javascript">
    var Handlers = {
        drawStart: function(){
            this.play();
            console.log('start');
        },
        drawEnd: function(rs){
            this.gotoAndStop(rs.msg.prizeCode);
        },
        drawSuccess: function(){
            console.log('success');
        },
        drawComplete: function(index){
            console.log('complete'+index);
        },
        error: function(){
            console.log('error');
        }
    };

    var nine = new Lucky.NineRect({
        url: 'test.json',
        trigger: $('draw'),
        cursor: $('cursor'),
        noCache: true,
        container: $('nine'),
        //events
        onDrawStart: Handlers.drawStart,
        onDrawEnd: Handlers.drawEnd,
        onComplete: Handlers.drawComplete,
        onError: Handlers.error
    });
</script>
</body>
</html>